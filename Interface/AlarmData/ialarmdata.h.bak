#ifndef IALARMDATA_H
#define IALARMDATA_H
#include <QObject>
#include <QColor>
#include "../RTData/irtdata.h"
#include "ialarmtaginfo.h"
#include "iloadsave.h"

QT_BEGIN_NAMESPACE
class AlarmLevel;
class AlarmZone;
class iGlobal;
QT_END_NAMESPACE
/*!
 * \brief The iAlarmData class
 * \u62A5\u8B66\u7B49\u7EA7\u7BA1\u7406\u3002\u8FD9\u4E2A\u9664\u4E86\u7B49\u7EA7\u540D\u79F0\uFF0C\u8FD8\u8981\u5E26\u5404\u79CD\u72B6\u6001\u4E0B\u7684\u989C\u8272\u7BA1\u7406\u3002\u542BQHarsh<QString alarmLevelName, AlarmLevel*>
 * \u62A5\u8B66\u70B9QHarsh<QString alarmName, iAlarmTagInfo*>
 * \u6BCF\u4E2A\u62A5\u8B66\u70B9\uFF0C\u53D1\u73B0\u72B6\u6001\u6539\u53D8\u540E\uFF0C\u76F4\u63A5\u901A\u77E5WebServer\uFF0C\u8FDB\u884C\u62A5\u8B66\u63A8\u9001\u7B49\u6D3B\u52A8\u3002
 * \u8FD8\u8981\u8003\u8651\u548CDB\u7684\u63A5\u53E3
 */
class iAlarmData: public QObject, public iLoadSave
{
    Q_OBJECT
public:

    explicit iAlarmData(QObject *parent = 0):QObject(parent){}
    virtual ~iAlarmData(){}

    /*!
     * \brief global
     * \u8FD4\u56DE\u5168\u5C40\u7BA1\u7406\u7C7B
     */
    virtual iGlobal* global()const=0;
    /*!
     * \brief setGlobal
     * \u5FC5\u987B\u8BBE\u7F6E\u5168\u5C40\u7BA1\u7406\u7C7B\uFF0C\u91C7\u80FD\u5F00\u59CB\u5DE5\u4F5C
     * \param newGlobal
     */
    virtual void setGlobal( iGlobal* Global)=0;
    /*!
     * \brief contains
     * \u662F\u5426\u5305\u542BalarmLevelName
     * \param alarmLevelName
     * \return true=does contains
     */
    virtual bool contains(const QString& alarmLevelName)const=0;
    /*!
     * \brief alarmTagInfo
     * \u83B7\u53D6\u62A5\u8B66\u70B9\u4FE1\u606F
     * \param alarmName
     * \return \u62A5\u8B66\u70B9\u4FE1\u606F
     */
    virtual iAlarmTagInfo* alarmTagInfo(const QString& alarmName)const=0;
    /*!
     * \brief alarmNames
     * \u83B7\u53D6\u6240\u6709\u7684\u62A5\u8B66\u70B9\u540D\u79F0
     * \return
     */
    virtual QStringList alarmNames(void)const=0;
    /*!
     * \brief ackAll
     * \u786E\u8BA4\u6240\u6709\u62A5\u8B66\u3002
     * \u505C\u6B62\u95EA\u70C1
     */
    virtual void ackAll(void)=0;
    /*!
     * \brief resetAll
     * \u590D\u4F4D\u6240\u6709\u62A5\u8B66\u3002
     * \u6240\u6709\u62A5\u8B66\u590D\u4F4D\u5230\u6B63\u5E38\u72B6\u6001\uFF0C\u7136\u540E\u91CD\u65B0\u4EA7\u751F\u62A5\u8B66\u3002
     */
    virtual void resetAll(void)=0;
    /*!
     * \brief exists
     * \u6D4B\u8BD5alarmTagInfoName \u662F\u5426\u5B58\u5728
     * \param alarmTagInfoName
     * \return
     */
    virtual bool exists(const QString& alarmName)const=0;
    /*!
     * \u663E\u793A\u7BA1\u7406\u9875\u9762
     */
    virtual void showUI(bool show=true, QWidget* parent=0)=0;

signals:
    /*!
     * \brief alarmStateChanged
     * For Upper Interface, such as webServer
     * \param info
     */
    void alarmStateChanged(iAlarmTagInfo* info);

};
#endif // IALARMDATA_H
